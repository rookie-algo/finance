
rules = [
  {
    "name": "è¶‹åŠ¿ä¸Šè¡Œï¼Œç»§ç»­æŒæœ‰",
    "condition": "ma5 > ma10 and ma10 > ma20 and macd > macd_signal and adx > 25",
    "action": "ç»§ç»­æŒæœ‰",
    "reason": "çŸ­ä¸­æœŸå‡çº¿å¤šå¤´æ’åˆ—ï¼ŒMACD é‡‘å‰ï¼ŒADX æ˜¾ç¤ºå¼ºè¶‹åŠ¿"
  },
  {
    "name": "çŸ­æœŸæ¶¨å¹…è¿‡å¤§ï¼Œå»ºè®®å‡ä»“",
    "condition": "rsi > 68 and cci > 100 and max(volumn_resistances + local_resistances) - Close < 5",
    "action": "è€ƒè™‘éƒ¨åˆ†æ­¢ç›ˆ",
    "reason": "RSI è¶…ä¹°ï¼ŒCCI è¿‡çƒ­ï¼Œæ¥è¿‘å‹åŠ›ä½"
  },
  {
    "name": "çªç ´å¸ƒæ—ä¸Šè½¨ï¼ŒåŠ¨èƒ½è¿‡å¼º",
    "condition": "Close > boll_upper and rsi > 70",
    "action": "è§‚å¯Ÿæˆ–å‡ä»“",
    "reason": "ä»·æ ¼çªç ´å¸ƒæ—å¸¦ä¸Šè½¨ï¼ŒçŸ­æœŸå¯èƒ½å›è°ƒ"
  },
  {
    "name": "æ¥è¿‘æ”¯æ’‘ä½ï¼Œè€ƒè™‘ä½å¸",
    "condition": "Close < ma20 and Close - min(local_supports + volumn_supports) < 5",
    "action": "é€¢ä½åŠ ä»“",
    "reason": "ä»·æ ¼æ¥è¿‘æ”¯æ’‘åŒºåŸŸï¼Œå¯è€ƒè™‘ä½å¸"
  },
  {
    "name": "é«˜æ³¢åŠ¨ä¸”æ— æ–¹å‘ï¼Œå»ºè®®è§‚æœ›",
    "condition": "atr / Close > 0.03 and adx < 20",
    "action": "æš‚æ—¶è§‚æœ›",
    "reason": "å½“å‰æ³¢åŠ¨å¤§ä¸”ç¼ºä¹æ˜ç¡®æ–¹å‘"
  },
  {
    "name": "MACD æ­»å‰ï¼Œè¶‹åŠ¿å‡å¼±",
    "condition": "macd < macd_signal and adx < 20",
    "action": "è§‚å¯Ÿæˆ–å‡ä»“",
    "reason": "MACD æ­»å‰ä¸”è¶‹åŠ¿å¼ºåº¦ä½ï¼ŒçŸ­æœŸå¯èƒ½å›è°ƒ"
  },
  {
    "name": "CCI è¶…ä¹°",
    "condition": "cci > 100 and rsi > 65",
    "action": "å‡ä»“",
    "reason": "CCI å’Œ RSI åŒæ—¶å¤„äºè¶…ä¹°åŒºåŸŸ"
  },
  {
    "name": "CCI è¶…å–ï¼ŒçŸ­æœŸåå¼¹å¯èƒ½",
    "condition": "cci < -100 and rsi < 35",
    "action": "å…³æ³¨åå¼¹æœºä¼š",
    "reason": "CCI è¶…å–ï¼Œå¯èƒ½è§¦åº•åå¼¹"
  },
  {
    "name": "æ¥è¿‘æ–æ³¢é‚£å¥‘å…³é”®ä½",
    "condition": "abs(Close - fibonacci['0.382']) < 3 or abs(Close - fibonacci['0.618']) < 3",
    "action": "é‡ç‚¹å…³æ³¨",
    "reason": "ä»·æ ¼æ¥è¿‘æ–æ³¢é‚£å¥‘å…³é”®ä½ç½®ï¼Œå¯èƒ½åè½¬"
  },
  {
    "name": "æ¥è¿‘å†å²å‹åŠ›ï¼Œå»ºè®®æ­¢ç›ˆ",
    "condition": "resistance and resistance[0] - Close < 3 and pnl_pct > 10",
    "action": "æ­¢ç›ˆ",
    "reason": "ä»·æ ¼æ¥è¿‘å†å²å‹åŠ›ä½ï¼Œå»ºè®®é”å®šæ”¶ç›Š"
  },
  {
    "name": "å›è°ƒè·Œç ´æ”¯æ’‘ï¼Œè€ƒè™‘æ­¢æŸ",
    "condition": "support and Close < support[0] and pnl_pct < -8",
    "action": "æ­¢æŸ",
    "reason": "ä»·æ ¼è·Œç ´å…³é”®æ”¯æ’‘ä½ï¼ŒäºæŸæ‰©å¤§ï¼Œå»ºè®®æ­¢æŸ"
  },
  {
    "name": "OBV èƒŒç¦»ï¼Œæ³¨æ„åŠ¨èƒ½è½¬å¼±",
    "condition": "macd > macd_signal and obv < obv_prev",
    "action": "è­¦æƒ•è™šå‡ä¸Šæ¶¨",
    "reason": "MACD å‘ä¸Šä½† OBV ä¸‹é™ï¼ŒåŠ¨èƒ½èƒŒç¦»"
  },
  {
    "name": "çŸ­æœŸéœ‡è¡ï¼Œç­‰å¾…çªç ´",
    "condition": "abs(ma5 - ma20) / ma20 < 0.01 and adx < 20",
    "action": "ä¿æŒè§‚æœ›",
    "reason": "ä»·æ ¼åœ¨å‡çº¿é™„è¿‘éœ‡è¡ï¼Œæš‚æ— æ–¹å‘ä¿¡å·"
  }
]


risk_map = {
    "æ­¢æŸ": "âš ï¸ é«˜é£é™©æç¤º",
    "å‡ä»“": "âš ï¸ ç›ˆåˆ©å›æ’¤é£é™©",
    "æ­¢ç›ˆ": "âœ… ç›ˆåˆ©ä¿æŠ¤",
    "é€¢ä½åŠ ä»“": "ğŸŸ¡ æŠ€æœ¯åå¼¹æœºä¼š",
    "è¯•æ¢æ€§åŠ ä»“": "ğŸŸ¡ æŠ€æœ¯åå¼¹æœºä¼š",
    "ç»§ç»­æŒæœ‰": "ğŸŸ¢ è¶‹åŠ¿è‰¯å¥½",
    "è€ƒè™‘éƒ¨åˆ†æ­¢ç›ˆ": "ğŸŸ¢ è¶‹åŠ¿ä¸Šæ¶¨ä¸­çš„é£æ§",
    "è§‚å¯Ÿæˆ–å‡ä»“": "ğŸŸ¡ ä¸­æ€§åç©º",
    "è­¦æƒ•è™šå‡ä¸Šæ¶¨": "âš ï¸ é£é™©æç¤º",
    "æš‚æ—¶è§‚æœ›": "ğŸŸ¡ ç­‰å¾…è¶‹åŠ¿æ˜ç¡®",
    "ä¿æŒè§‚æœ›": "ğŸŸ¡ æ— æ“ä½œå»ºè®®",
    "é‡ç‚¹å…³æ³¨": "ğŸ” å…³é”®ä½ç½®è§‚å¯Ÿ",
    "å…³æ³¨åå¼¹æœºä¼š": "ğŸŸ¡ åå¼¹å¯èƒ½",
    "è§‚å¯Ÿ": "ğŸŸ¡ ä¸­æ€§",
}